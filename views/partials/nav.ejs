<div class="fixed z-50 top-0 w-full h-14 sm:h-16 flex items-center justify-between px-3 sm:px-6 bg-gray-50/95 backdrop-blur-sm border-b border-gray-200">
  <!-- Mobile Menu Button -->
  <div class="lg:hidden">
    <button id="menu-toggle" class="p-1.5 sm:p-2 rounded-lg text-slate-700 hover:bg-gray-100/80 transition-colors">
      <i class="fa-solid fa-bars text-xl sm:text-2xl"></i>
    </button>
  </div>

  <!-- Left Side (Nav Links) -->
  <nav class="hidden lg:flex items-center space-x-8">
    <a href="/home" class="text-sm font-medium text-slate-700 hover:text-black transition-colors">Home</a>
    <a href="/shop" class="text-sm font-medium text-slate-700 hover:text-black transition-colors">Shop</a>
    <a href="#" class="text-sm font-medium text-slate-700 hover:text-black transition-colors">Contact</a>
    <a href="#" class="text-sm font-medium text-slate-700 hover:text-black transition-colors">About</a>
  </nav>

  <!-- Center (Logo) -->
  <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
    <img src="/images/blacklogo.png" alt="logo" class="h-8 sm:h-10" />
  </div>

  <!-- Right Side (Icons) -->
  <div class="flex items-center space-x-2 sm:space-x-6">
    <a href="/wishlist" class="p-1.5 sm:p-2 text-slate-700 hover:text-black transition-colors">
      <i class="fa-regular fa-heart text-lg sm:text-xl"></i>
    </a>
    <a href="/profile" class="p-1.5 sm:p-2 text-slate-700 hover:text-black transition-colors">
      <i class="fa-regular fa-user text-lg sm:text-xl"></i>
    </a>
    <a href="/cart" class="p-1.5 sm:p-2 text-slate-700 hover:text-black transition-colors relative">
      <i class="fa-solid fa-cart-shopping text-lg sm:text-xl"></i>
      <% if (locals.cartCount && cartCount > 0) { %>
        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">
          <%= cartCount > 9 ? '9+' : cartCount %>
        </span>
      <% } %>
    </a>
  </div>
</div>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu" 
     class="fixed inset-0 bg-black/20 backdrop-blur-sm hidden lg:hidden z-40"
     aria-hidden="true">
  <!-- Mobile Menu Panel -->
  <div class="fixed top-14 sm:top-16 left-0 w-full max-w-sm bg-white border-r border-gray-200 h-screen transform transition-transform duration-300 ease-in-out">
    <nav class="flex flex-col p-4 space-y-2">
      <a href="/home" class="p-3 text-sm font-medium text-slate-700 hover:bg-gray-50 rounded-lg transition-colors">Home</a>
      <a href="/shop" class="p-3 text-sm font-medium text-slate-700 hover:bg-gray-50 rounded-lg transition-colors">Shop</a>
      <a href="#" class="p-3 text-sm font-medium text-slate-700 hover:bg-gray-50 rounded-lg transition-colors">Contact</a>
      <a href="#" class="p-3 text-sm font-medium text-slate-700 hover:bg-gray-50 rounded-lg transition-colors">About</a>
    </nav>
  </div>
</div>

<script>
  const menuToggle = document.getElementById("menu-toggle");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuPanel = mobileMenu.querySelector('div');
  let isMenuOpen = false;

  menuToggle.addEventListener("click", () => {
    isMenuOpen = !isMenuOpen;
    mobileMenu.classList.toggle("hidden");
    document.body.classList.toggle("overflow-hidden");
    
    // Update menu icon
    const menuIcon = menuToggle.querySelector('i');
    if (isMenuOpen) {
      menuIcon.classList.remove('fa-bars');
      menuIcon.classList.add('fa-xmark');
    } else {
      menuIcon.classList.remove('fa-xmark');
      menuIcon.classList.add('fa-bars');
    }
  });

  // Close menu when clicking outside
  mobileMenu.addEventListener('click', (event) => {
    if (event.target === mobileMenu) {
      mobileMenu.classList.add("hidden");
      document.body.classList.remove("overflow-hidden");
      isMenuOpen = false;
      const menuIcon = menuToggle.querySelector('i');
      menuIcon.classList.remove('fa-xmark');
      menuIcon.classList.add('fa-bars');
    }
  });
</script>
